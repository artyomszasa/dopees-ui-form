var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

import { property, observe } from "@polymer/decorators/lib/decorators.js";
import { dedupingMixin } from "@polymer/polymer/lib/utils/mixin.js";
export const keyIsField = Symbol('isField');
export const instanceofField = node => {
  let proto = node.constructor;

  while (proto) {
    if (true === proto[keyIsField]) {
      return true;
    }

    proto = Object.getPrototypeOf(proto);
  }

  return false;
};
const keyLastFocused = Symbol('lastFocused');
export const ValidationMixin = dedupingMixin(base => {
  class SomeFieldWithValidation extends base {
    performValidation() {
      if (this.activated) {
        this.validationMessage = this.validate();
      }
    }

    validateOnFocusChange(focused) {
      const lastFocused = this[keyLastFocused] || false;

      if (focused || !lastFocused) {
        return;
      }

      this.validationMessage = this.validate();
    }

  }

  __decorate([observe('value')], SomeFieldWithValidation.prototype, "performValidation", null);

  __decorate([observe('focused')], SomeFieldWithValidation.prototype, "validateOnFocusChange", null);

  return SomeFieldWithValidation;
});
export const FieldMixin = dedupingMixin(base => {
  class SomeField extends base {
    constructor() {
      super(...arguments);
      this.activated = false;
      this.dirty = false;
      this.readonly = false;
      this.required = false;
      this.focused = false;
      this.invalid = false;
    }

    activate() {
      throw new Error('activate not implemented');
    }

    validate() {
      return undefined;
    }

    validationMessageChanged(validationMessage) {
      this.invalid = !!validationMessage;
    }

  }

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "activated", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "dirty", void 0);

  __decorate([property({
    type: Boolean,
    reflectToAttribute: true
  })], SomeField.prototype, "readonly", void 0);

  __decorate([property({
    type: Boolean,
    reflectToAttribute: true
  })], SomeField.prototype, "required", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "focused", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "invalid", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "empty", void 0);

  __decorate([property({
    type: String
  })], SomeField.prototype, "requiredMessage", void 0);

  __decorate([property({
    type: String,
    notify: true
  })], SomeField.prototype, "validationMessage", void 0);

  __decorate([observe('validationMessage')], SomeField.prototype, "validationMessageChanged", null);

  SomeField.constructor[keyIsField] = true;
  return SomeField;
});
export const DecoratedWrapperMixin = dedupingMixin(base => {
  class SomeDecoratedField extends base {
    constructor() {
      super(...arguments);
      this.label = '';
    }

  }

  __decorate([property({
    type: String
  })], SomeDecoratedField.prototype, "label", void 0);

  __decorate([property({
    type: String
  })], SomeDecoratedField.prototype, "hint", void 0);

  return SomeDecoratedField;
});
export const DecoratedFieldMixin = base => DecoratedWrapperMixin(FieldMixin(base));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpZWxkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsU0FBUyxRQUFULEVBQW1CLE9BQW5CLFFBQWtDLHVDQUFsQztBQUNBLFNBQVMsYUFBVCxRQUE4QixxQ0FBOUI7QUFJQSxPQUFPLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxTQUFELENBQXpCO0FBRVAsT0FBTyxNQUFNLGVBQWUsR0FBMkIsSUFBeEIsSUFBb0Q7QUFDakYsTUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQWpCOztBQUNBLFNBQU8sS0FBUCxFQUFjO0FBQ1osUUFBSSxTQUFTLEtBQUssQ0FBQyxVQUFELENBQWxCLEVBQWdDO0FBQzlCLGFBQU8sSUFBUDtBQUNEOztBQUNELElBQUEsS0FBSyxHQUFHLE1BQU0sQ0FBQyxjQUFQLENBQXNCLEtBQXRCLENBQVI7QUFDRDs7QUFDRCxTQUFPLEtBQVA7QUFDRCxDQVRNO0FBcURQLE1BQU0sY0FBYyxHQUFHLE1BQU0sQ0FBQyxhQUFELENBQTdCO0FBSUEsT0FBTyxNQUFNLGVBQWUsR0FBRyxhQUFhLENBQTBCLElBQXpCLElBQTBDO0FBQ3JGLFFBQU0sdUJBQU4sU0FBNEQsSUFBNUQsQ0FBaUU7QUFHL0QsSUFBQSxpQkFBaUIsR0FBQTtBQUNmLFVBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2xCLGFBQUssaUJBQUwsR0FBeUIsS0FBSyxRQUFMLEVBQXpCO0FBQ0Q7QUFDRjs7QUFHRCxJQUFBLHFCQUFxQixDQUFDLE9BQUQsRUFBaUI7QUFDcEMsWUFBTSxXQUFXLEdBQUcsS0FBSyxjQUFMLEtBQXdCLEtBQTVDOztBQUNBLFVBQUksT0FBTyxJQUFJLENBQUMsV0FBaEIsRUFBNkI7QUFDM0I7QUFDRDs7QUFDRCxXQUFLLGlCQUFMLEdBQXlCLEtBQUssUUFBTCxFQUF6QjtBQUNEOztBQWhCOEQ7O0FBRy9ELEVBQUEsVUFBQSxDQUFBLENBREMsT0FBTyxDQUFDLE9BQUQsQ0FDUixDQUFBLEUsaUNBQUEsRSxtQkFBQSxFQUlDLElBSkQsQ0FBQTs7QUFPQSxFQUFBLFVBQUEsQ0FBQSxDQURDLE9BQU8sQ0FBQyxTQUFELENBQ1IsQ0FBQSxFLGlDQUFBLEUsdUJBQUEsRUFNQyxJQU5ELENBQUE7O0FBUUYsU0FBeUMsdUJBQXpDO0FBQ0QsQ0FwQjJDLENBQXJDO0FBc0JQLE9BQU8sTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUE0QixJQUEzQixJQUE0QztBQUNsRixRQUFNLFNBQU4sU0FBZ0QsSUFBaEQsQ0FBcUQ7QUFBckQsSUFBQSxXQUFBLEdBQUE7O0FBR0UsV0FBQSxTQUFBLEdBQXFCLEtBQXJCO0FBR0EsV0FBQSxLQUFBLEdBQWlCLEtBQWpCO0FBR0EsV0FBQSxRQUFBLEdBQW9CLEtBQXBCO0FBR0EsV0FBQSxRQUFBLEdBQW9CLEtBQXBCO0FBR0EsV0FBQSxPQUFBLEdBQW1CLEtBQW5CO0FBR0EsV0FBQSxPQUFBLEdBQW1CLEtBQW5CO0FBbUJEOztBQVJDLElBQUEsUUFBUSxHQUFBO0FBQVcsWUFBTSxJQUFJLEtBQUosQ0FBVSwwQkFBVixDQUFOO0FBQThDOztBQUVqRSxJQUFBLFFBQVEsR0FBQTtBQUFLLGFBQU8sU0FBUDtBQUFtQjs7QUFHaEMsSUFBQSx3QkFBd0IsQ0FBQyxpQkFBRCxFQUFvQztBQUMxRCxXQUFLLE9BQUwsR0FBZSxDQUFDLENBQUUsaUJBQWxCO0FBQ0Q7O0FBcENrRDs7QUFHbkQsRUFBQSxVQUFBLENBQUEsQ0FEQyxRQUFRLENBQUM7QUFBRSxJQUFBLElBQUksRUFBRSxPQUFSO0FBQWlCLElBQUEsTUFBTSxFQUFFLElBQXpCO0FBQStCLElBQUEsa0JBQWtCLEVBQUU7QUFBbkQsR0FBRCxDQUNULENBQUEsRSxtQkFBQSxFLFdBQUEsRSxLQUEyQixDQUEzQixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUUsT0FBUjtBQUFpQixJQUFBLE1BQU0sRUFBRSxJQUF6QjtBQUErQixJQUFBLGtCQUFrQixFQUFFO0FBQW5ELEdBQUQsQ0FDVCxDQUFBLEUsbUJBQUEsRSxPQUFBLEUsS0FBdUIsQ0FBdkIsQ0FBQTs7QUFHQSxFQUFBLFVBQUEsQ0FBQSxDQURDLFFBQVEsQ0FBQztBQUFFLElBQUEsSUFBSSxFQUFFLE9BQVI7QUFBaUIsSUFBQSxrQkFBa0IsRUFBRTtBQUFyQyxHQUFELENBQ1QsQ0FBQSxFLG1CQUFBLEUsVUFBQSxFLEtBQTBCLENBQTFCLENBQUE7O0FBR0EsRUFBQSxVQUFBLENBQUEsQ0FEQyxRQUFRLENBQUM7QUFBRSxJQUFBLElBQUksRUFBRSxPQUFSO0FBQWlCLElBQUEsa0JBQWtCLEVBQUU7QUFBckMsR0FBRCxDQUNULENBQUEsRSxtQkFBQSxFLFVBQUEsRSxLQUEwQixDQUExQixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUUsT0FBUjtBQUFpQixJQUFBLE1BQU0sRUFBRSxJQUF6QjtBQUErQixJQUFBLGtCQUFrQixFQUFFO0FBQW5ELEdBQUQsQ0FDVCxDQUFBLEUsbUJBQUEsRSxTQUFBLEUsS0FBeUIsQ0FBekIsQ0FBQTs7QUFHQSxFQUFBLFVBQUEsQ0FBQSxDQURDLFFBQVEsQ0FBQztBQUFFLElBQUEsSUFBSSxFQUFFLE9BQVI7QUFBaUIsSUFBQSxNQUFNLEVBQUUsSUFBekI7QUFBK0IsSUFBQSxrQkFBa0IsRUFBRTtBQUFuRCxHQUFELENBQ1QsQ0FBQSxFLG1CQUFBLEUsU0FBQSxFLEtBQXlCLENBQXpCLENBQUE7O0FBR0EsRUFBQSxVQUFBLENBQUEsQ0FEQyxRQUFRLENBQUM7QUFBRSxJQUFBLElBQUksRUFBRSxPQUFSO0FBQWlCLElBQUEsTUFBTSxFQUFFLElBQXpCO0FBQStCLElBQUEsa0JBQWtCLEVBQUU7QUFBbkQsR0FBRCxDQUNULENBQUEsRSxtQkFBQSxFLE9BQUEsRSxLQUFnQixDQUFoQixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUU7QUFBUixHQUFELENBQ1QsQ0FBQSxFLG1CQUFBLEUsaUJBQUEsRSxLQUF5QixDQUF6QixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUUsTUFBUjtBQUFnQixJQUFBLE1BQU0sRUFBRTtBQUF4QixHQUFELENBQ1QsQ0FBQSxFLG1CQUFBLEUsbUJBQUEsRSxLQUEyQixDQUEzQixDQUFBOztBQU9BLEVBQUEsVUFBQSxDQUFBLENBREMsT0FBTyxDQUFDLG1CQUFELENBQ1IsQ0FBQSxFLG1CQUFBLEUsMEJBQUEsRUFFQyxJQUZELENBQUE7O0FBSUYsRUFBQSxTQUFTLENBQUMsV0FBVixDQUFzQixVQUF0QixJQUFvQyxJQUFwQztBQUNBLFNBQW1DLFNBQW5DO0FBQ0QsQ0F6Q3NDLENBQWhDO0FBMkNQLE9BQU8sTUFBTSxxQkFBcUIsR0FBRyxhQUFhLENBQTRCLElBQTNCLElBQTRDO0FBQzdGLFFBQU0sa0JBQU4sU0FBeUQsSUFBekQsQ0FBOEQ7QUFBOUQsSUFBQSxXQUFBLEdBQUE7O0FBR0UsV0FBQSxLQUFBLEdBQWlCLEVBQWpCO0FBSUQ7O0FBUDZEOztBQUc1RCxFQUFBLFVBQUEsQ0FBQSxDQURDLFFBQVEsQ0FBQztBQUFFLElBQUEsSUFBSSxFQUFFO0FBQVIsR0FBRCxDQUNULENBQUEsRSw0QkFBQSxFLE9BQUEsRSxLQUFvQixDQUFwQixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUU7QUFBUixHQUFELENBQ1QsQ0FBQSxFLDRCQUFBLEUsTUFBQSxFLEtBQWMsQ0FBZCxDQUFBOztBQUVGLFNBQTBDLGtCQUExQztBQUNELENBVmlELENBQTNDO0FBWVAsT0FBTyxNQUFNLG1CQUFtQixHQUE4QixJQUEzQixJQUE2QyxxQkFBcUIsQ0FBQyxVQUFVLENBQUMsSUFBRCxDQUFYLENBQTlGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvcGVydHksIG9ic2VydmUgfSBmcm9tICdAcG9seW1lci9kZWNvcmF0b3JzL2xpYi9kZWNvcmF0b3JzJztcbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9taXhpbic7XG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50JztcbmltcG9ydCB7IEN0b3IgfSBmcm9tICdzcmMvaGVscGVycyc7XG5cbmV4cG9ydCBjb25zdCBrZXlJc0ZpZWxkID0gU3ltYm9sKCdpc0ZpZWxkJyk7XG5cbmV4cG9ydCBjb25zdCBpbnN0YW5jZW9mRmllbGQgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50Pihub2RlOiBUKTogbm9kZSBpcyBUJkZpZWxkID0+IHtcbiAgbGV0IHByb3RvID0gbm9kZS5jb25zdHJ1Y3RvcjtcbiAgd2hpbGUgKHByb3RvKSB7XG4gICAgaWYgKHRydWUgPT09IHByb3RvW2tleUlzRmllbGRdKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmllbGQge1xuICAvKiogRGVub3RlcyB3aGV0aGVyIHRoZSBmaWVsZCBoYXMgYmVlbiBhY3RpdmF0ZWQgYXQgbGVhdCBvbmNlLiAqL1xuICBhY3RpdmF0ZWQ6IGJvb2xlYW47XG4gIC8qKiBEZW5vdGVzIGZpZWxkIGRpcnRpbmVzcy4gRmllbGQgaXMgY29uc2lkZXJlZCBkaXJ0eSBpZiBpdHMgdmFsdWUgaGFzIGNoYW5nZWQgc2luY2UgbGFzdCBjb21taXQuICovXG4gIGRpcnR5OiBib29sZWFuO1xuICAvKiogRGVmaW5lcyB3aGV0aGVyIGZpZWxkIHZhbHVlIGlzIHJlYWRvbmx5LiBVc3VhbGx5IGRlZmluZWQgYnkgdGhlIGNvbnRhaW5lciBlbGVtZW50LiAqL1xuICByZWFkb25seTogYm9vbGVhbjtcbiAgLyoqIERlZmluZXMgd2hldGhlciBmaWVsZCB2YWx1ZSBpcyByZXF1aXJlZC4gVXN1YWxseSBkZWZpbmVkIGJ5IHRoZSBjb250YWluZXIgZWxlbWVudC4gKi9cbiAgcmVxdWlyZWQ6IGJvb2xlYW47XG4gIC8qKiBEZW5vdGVzIGZpZWxkIGFjdGl2ZW5lc3MuIF90cnVlXyBpcyB0aGUgZmllbGQgaXMgZm9jdXNlZCwgX2ZhbHNlXyBvdGhlcndpc2UuICovXG4gIGZvY3VzZWQ6IGJvb2xlYW47XG4gIC8qKiBEZW5vdGVzIGZpZWxkIHZhbGlkaXR5IGNvbXB1dGVkIHVzaW5nIGZpZWxkIHNwZWNpZmljIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi4gKi9cbiAgaW52YWxpZDogYm9vbGVhbjtcbiAgLyoqIERlbm90ZXMgZmllbGQgZW1wdGluZXNzLiBDb25jZXJldGUgZmllbGQgaW1wbGVtZW50YXRpb24gZGVmaW5lcyB3aGVuIGZpZWxkIGlzIGNvbnNpZGVyZWQgZW1wdHkuICovXG4gIGVtcHR5OiBib29sZWFuO1xuICAvKiogRGVmYXVsdCBtZXNzYWdlIHRvIHNob3cgaWYgdGhlIGlucHV0IGlzIHJlcXVpcmVkIGFuZCBubyB2YWx1ZSBpcyBwcmVzZW50LiAqL1xuICByZXF1aXJlZE1lc3NhZ2U/OiBzdHJpbmc7XG4gIC8qKiBBIG1lc3NhZ2UgZGVzY3JpYmluZyB0aGUgdmFsaWRhdGlvbiBjb25zdHJhaW50cyB0aGF0IHRoZSBjb250cm9sIGRvZXMgbm90IHNhdGlzZnkgKGlmIGFueSkuICovXG4gIHZhbGlkYXRpb25NZXNzYWdlPzogc3RyaW5nO1xuICAvKiogQWN0aXZhdGVzIGZpZWxkLiAqL1xuICBhY3RpdmF0ZSgpOiB2b2lkO1xuICAvKipcbiAgICogVHJpZ2dlcmVkIG9uIHZhbGlkYXRpb24uIFJldHVybnMgYSBtZXNzYWdlIGRlc2NyaWJpbmcgdGhlIHZhbGlkYXRpb24gY29uc3RyYWludHMgdGhhdCB0aGUgY29udHJvbCBkb2VzIG5vdCBzYXRpc2Z5XG4gICAqIGlmIGFueS5cbiAgICovXG4gIHZhbGlkYXRlKCk6IHN0cmluZ3x1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmllbGRXcmFwcGVyIHtcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIGhpbnQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWVGaWVsZDxUPiBleHRlbmRzIEZpZWxkIHtcbiAgdmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzVmFsaWRhdGlvbiB7XG4gIHBlcmZvcm1WYWxpZGF0aW9uKCk6IHZvaWQ7XG4gIHZhbGlkYXRlT25Gb2N1c0NoYW5nZShmb2N1c2VkOiBib29sZWFuKTogdm9pZDtcbn1cblxuY29uc3Qga2V5TGFzdEZvY3VzZWQgPSBTeW1ib2woJ2xhc3RGb2N1c2VkJyk7XG5cbnR5cGUgUG9seW1lckZpZWxkID0gUG9seW1lckVsZW1lbnQmRmllbGQ7XG5cbmV4cG9ydCBjb25zdCBWYWxpZGF0aW9uTWl4aW4gPSBkZWR1cGluZ01peGluKDxUIGV4dGVuZHMgUG9seW1lckZpZWxkPihiYXNlOiBDdG9yPFQ+KSA9PiB7XG4gIGNsYXNzIFNvbWVGaWVsZFdpdGhWYWxpZGF0aW9uIGV4dGVuZHMgKDxDdG9yPFBvbHltZXJGaWVsZD4+IGJhc2UpIGltcGxlbWVudHMgSGFzVmFsaWRhdGlvbiB7XG5cbiAgICBAb2JzZXJ2ZSgndmFsdWUnKVxuICAgIHBlcmZvcm1WYWxpZGF0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbk1lc3NhZ2UgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgQG9ic2VydmUoJ2ZvY3VzZWQnKVxuICAgIHZhbGlkYXRlT25Gb2N1c0NoYW5nZShmb2N1c2VkOiBib29sZWFuKSB7XG4gICAgICBjb25zdCBsYXN0Rm9jdXNlZCA9IHRoaXNba2V5TGFzdEZvY3VzZWRdIHx8IGZhbHNlO1xuICAgICAgaWYgKGZvY3VzZWQgfHwgIWxhc3RGb2N1c2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsaWRhdGlvbk1lc3NhZ2UgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiA8Q3RvcjxUJkhhc1ZhbGlkYXRpb24+PiA8dW5rbm93bj4gU29tZUZpZWxkV2l0aFZhbGlkYXRpb247XG59KTtcblxuZXhwb3J0IGNvbnN0IEZpZWxkTWl4aW4gPSBkZWR1cGluZ01peGluKDxUIGV4dGVuZHMgUG9seW1lckVsZW1lbnQ+KGJhc2U6IEN0b3I8VD4pID0+IHtcbiAgY2xhc3MgU29tZUZpZWxkIGV4dGVuZHMgKDxDdG9yPFBvbHltZXJFbGVtZW50Pj4gYmFzZSkgaW1wbGVtZW50cyBGaWVsZCB7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBub3RpZnk6IHRydWUsIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZSB9KVxuICAgIGFjdGl2YXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgbm90aWZ5OiB0cnVlLCByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUgfSlcbiAgICBkaXJ0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlIH0pXG4gICAgcmVhZG9ubHk6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZSB9KVxuICAgIHJlcXVpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBub3RpZnk6IHRydWUsIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZSB9KVxuICAgIGZvY3VzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIG5vdGlmeTogdHJ1ZSwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlIH0pXG4gICAgaW52YWxpZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgbm90aWZ5OiB0cnVlLCByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUgfSlcbiAgICBlbXB0eSE6IGJvb2xlYW47XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSlcbiAgICByZXF1aXJlZE1lc3NhZ2U/OiBzdHJpbmc7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIG5vdGlmeTogdHJ1ZSB9KVxuICAgIHZhbGlkYXRpb25NZXNzYWdlPzogc3RyaW5nO1xuXG4gICAgYWN0aXZhdGUoKTogdm9pZCB7IHRocm93IG5ldyBFcnJvcignYWN0aXZhdGUgbm90IGltcGxlbWVudGVkJyk7IH1cblxuICAgIHZhbGlkYXRlKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG5cbiAgICBAb2JzZXJ2ZSgndmFsaWRhdGlvbk1lc3NhZ2UnKVxuICAgIHZhbGlkYXRpb25NZXNzYWdlQ2hhbmdlZCh2YWxpZGF0aW9uTWVzc2FnZTogc3RyaW5nfHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5pbnZhbGlkID0gISEodmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuICBTb21lRmllbGQuY29uc3RydWN0b3Jba2V5SXNGaWVsZF0gPSB0cnVlO1xuICByZXR1cm4gPEN0b3I8VCAmIEZpZWxkPj4gPHVua25vd24+IFNvbWVGaWVsZDtcbn0pO1xuXG5leHBvcnQgY29uc3QgRGVjb3JhdGVkV3JhcHBlck1peGluID0gZGVkdXBpbmdNaXhpbig8VCBleHRlbmRzIFBvbHltZXJFbGVtZW50PihiYXNlOiBDdG9yPFQ+KSA9PiB7XG4gIGNsYXNzIFNvbWVEZWNvcmF0ZWRGaWVsZCBleHRlbmRzICg8Q3RvcjxQb2x5bWVyRWxlbWVudD4+IGJhc2UpIGltcGxlbWVudHMgRmllbGRXcmFwcGVyIHtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuICAgIGxhYmVsPzogc3RyaW5nID0gJyc7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSlcbiAgICBoaW50Pzogc3RyaW5nO1xuICB9XG4gIHJldHVybiA8Q3RvcjxUICYgRmllbGRXcmFwcGVyPj4gPHVua25vd24+IFNvbWVEZWNvcmF0ZWRGaWVsZDtcbn0pO1xuXG5leHBvcnQgY29uc3QgRGVjb3JhdGVkRmllbGRNaXhpbiA9IDxUIGV4dGVuZHMgUG9seW1lckVsZW1lbnQ+KGJhc2U6IEN0b3I8VD4pID0+IERlY29yYXRlZFdyYXBwZXJNaXhpbihGaWVsZE1peGluKGJhc2UpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=