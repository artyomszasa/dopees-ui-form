var __decorate = this && this.__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

import { property, observe } from "@polymer/decorators/lib/decorators.js";
import { dedupingMixin } from "@polymer/polymer/lib/utils/mixin.js";
export const keyIsField = Symbol('isField');
export const instanceofField = node => {
  let proto = node.constructor;

  while (proto) {
    if (true === proto[keyIsField]) {
      return true;
    }

    proto = Object.getPrototypeOf(proto);
  }

  return false;
};
const keyLastFocused = Symbol('lastFocused');
export const ValidationMixin = dedupingMixin(base => {
  class SomeFieldWithValidation extends base {
    performValidation() {
      if (this.activated) {
        this.validationMessage = this.validate();
      }
    }

    validateOnFocusChange(focused) {
      const lastFocused = this[keyLastFocused] || false;

      if (focused || !lastFocused) {
        return;
      }

      this.validationMessage = this.validate();
    }

  }

  __decorate([observe('value')], SomeFieldWithValidation.prototype, "performValidation", null);

  __decorate([observe('focused')], SomeFieldWithValidation.prototype, "validateOnFocusChange", null);

  return SomeFieldWithValidation;
});
export const FieldMixin = dedupingMixin(base => {
  class SomeField extends base {
    constructor() {
      super(...arguments);
      this.activated = false;
      this.dirty = false;
      this.readonly = false;
      this.required = false;
      this.focused = false;
      this.invalid = false;
    }

    activate() {
      throw new Error('activate not implemented');
    }

    validate() {
      return undefined;
    }

    validationMessageChanged(validationMessage) {
      this.invalid = !!validationMessage;
    }

  }

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "activated", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "dirty", void 0);

  __decorate([property({
    type: Boolean,
    reflectToAttribute: true
  })], SomeField.prototype, "readonly", void 0);

  __decorate([property({
    type: Boolean,
    reflectToAttribute: true
  })], SomeField.prototype, "required", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "focused", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "invalid", void 0);

  __decorate([property({
    type: Boolean,
    notify: true,
    reflectToAttribute: true
  })], SomeField.prototype, "empty", void 0);

  __decorate([property({
    type: String
  })], SomeField.prototype, "requiredMessage", void 0);

  __decorate([property({
    type: String,
    notify: true
  })], SomeField.prototype, "validationMessage", void 0);

  __decorate([observe('validationMessage')], SomeField.prototype, "validationMessageChanged", null);

  SomeField.constructor[keyIsField] = true;
  return SomeField;
});
export const DecoratedWrapperMixin = dedupingMixin(base => {
  class SomeDecoratedField extends base {
    constructor() {
      super(...arguments);
      this.label = '';
    }

  }

  __decorate([property({
    type: String
  })], SomeDecoratedField.prototype, "label", void 0);

  __decorate([property({
    type: String
  })], SomeDecoratedField.prototype, "hint", void 0);

  return SomeDecoratedField;
});
export const DecoratedFieldMixin = base => DecoratedWrapperMixin(FieldMixin(base));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUF6QixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUUsTUFBUjtBQUFnQixJQUFBLE1BQU0sRUFBRTtBQUF4QixHQUFELENBQ1QsQ0FBQSxFLG1CQUFBLEUsbUJBQUEsRSxLQUEyQixDQUEzQixDQUFBOztBQU9BLEVBQUEsVUFBQSxDQUFBLENBREMsT0FBTyxDQUFDLG1CQUFELENBQ1IsQ0FBQSxFLG1CQUFBLEUsMEJBQUEsRUFFQyxJQUZELENBQUE7O0FBSUYsRUFBQSxTQUFTLENBQUMsV0FBVixDQUFzQixVQUF0QixJQUFvQyxJQUFwQztBQUNBLFNBQW1ELFNBQW5EO0FBQ0QsQ0F6Q3NDLENBQWhDO0FBMkNQLE9BQU8sTUFBTSxxQkFBcUIsR0FBRyxhQUFhLENBQTRCLElBQTNCLElBQThEO0FBQy9HLFFBQU0sa0JBQU4sU0FBMkUsSUFBM0UsQ0FBZ0Y7QUFBaEYsSUFBQSxXQUFBLEdBQUE7O0FBR0UsV0FBQSxLQUFBLEdBQWlCLEVBQWpCO0FBSUQ7O0FBUCtFOztBQUc5RSxFQUFBLFVBQUEsQ0FBQSxDQURDLFFBQVEsQ0FBQztBQUFFLElBQUEsSUFBSSxFQUFFO0FBQVIsR0FBRCxDQUNULENBQUEsRSw0QkFBQSxFLE9BQUEsRSxLQUFvQixDQUFwQixDQUFBOztBQUdBLEVBQUEsVUFBQSxDQUFBLENBREMsUUFBUSxDQUFDO0FBQUUsSUFBQSxJQUFJLEVBQUU7QUFBUixHQUFELENBQ1QsQ0FBQSxFLDRCQUFBLEUsTUFBQSxFLEtBQWMsQ0FBZCxDQUFBOztBQUVGLFNBQTBELGtCQUExRDtBQUNELENBVmlELENBQTNDO0FBWVAsT0FBTyxNQUFNLG1CQUFtQixHQUNILElBQTNCLElBQStELHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxJQUFELENBQVgsQ0FEL0UiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9wZXJ0eSwgb2JzZXJ2ZSB9IGZyb20gJ0Bwb2x5bWVyL2RlY29yYXRvcnMvbGliL2RlY29yYXRvcnMnO1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL21peGluJztcbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnQnO1xuXG5leHBvcnQgY29uc3Qga2V5SXNGaWVsZCA9IFN5bWJvbCgnaXNGaWVsZCcpO1xuXG5leHBvcnQgY29uc3QgaW5zdGFuY2VvZkZpZWxkID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4obm9kZTogVCk6IG5vZGUgaXMgVCZGaWVsZCA9PiB7XG4gIGxldCBwcm90byA9IG5vZGUuY29uc3RydWN0b3I7XG4gIHdoaWxlIChwcm90bykge1xuICAgIGlmICh0cnVlID09PSBwcm90b1trZXlJc0ZpZWxkXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkIHtcbiAgLyoqIERlbm90ZXMgd2hldGhlciB0aGUgZmllbGQgaGFzIGJlZW4gYWN0aXZhdGVkIGF0IGxlYXQgb25jZS4gKi9cbiAgYWN0aXZhdGVkOiBib29sZWFuO1xuICAvKiogRGVub3RlcyBmaWVsZCBkaXJ0aW5lc3MuIEZpZWxkIGlzIGNvbnNpZGVyZWQgZGlydHkgaWYgaXRzIHZhbHVlIGhhcyBjaGFuZ2VkIHNpbmNlIGxhc3QgY29tbWl0LiAqL1xuICBkaXJ0eTogYm9vbGVhbjtcbiAgLyoqIERlZmluZXMgd2hldGhlciBmaWVsZCB2YWx1ZSBpcyByZWFkb25seS4gVXN1YWxseSBkZWZpbmVkIGJ5IHRoZSBjb250YWluZXIgZWxlbWVudC4gKi9cbiAgcmVhZG9ubHk6IGJvb2xlYW47XG4gIC8qKiBEZWZpbmVzIHdoZXRoZXIgZmllbGQgdmFsdWUgaXMgcmVxdWlyZWQuIFVzdWFsbHkgZGVmaW5lZCBieSB0aGUgY29udGFpbmVyIGVsZW1lbnQuICovXG4gIHJlcXVpcmVkOiBib29sZWFuO1xuICAvKiogRGVub3RlcyBmaWVsZCBhY3RpdmVuZXNzLiBfdHJ1ZV8gaXMgdGhlIGZpZWxkIGlzIGZvY3VzZWQsIF9mYWxzZV8gb3RoZXJ3aXNlLiAqL1xuICBmb2N1c2VkOiBib29sZWFuO1xuICAvKiogRGVub3RlcyBmaWVsZCB2YWxpZGl0eSBjb21wdXRlZCB1c2luZyBmaWVsZCBzcGVjaWZpYyBjb25zdHJhaW50IHZhbGlkYXRpb24uICovXG4gIGludmFsaWQ6IGJvb2xlYW47XG4gIC8qKiBEZW5vdGVzIGZpZWxkIGVtcHRpbmVzcy4gQ29uY2VyZXRlIGZpZWxkIGltcGxlbWVudGF0aW9uIGRlZmluZXMgd2hlbiBmaWVsZCBpcyBjb25zaWRlcmVkIGVtcHR5LiAqL1xuICBlbXB0eTogYm9vbGVhbjtcbiAgLyoqIERlZmF1bHQgbWVzc2FnZSB0byBzaG93IGlmIHRoZSBpbnB1dCBpcyByZXF1aXJlZCBhbmQgbm8gdmFsdWUgaXMgcHJlc2VudC4gKi9cbiAgcmVxdWlyZWRNZXNzYWdlPzogc3RyaW5nO1xuICAvKiogQSBtZXNzYWdlIGRlc2NyaWJpbmcgdGhlIHZhbGlkYXRpb24gY29uc3RyYWludHMgdGhhdCB0aGUgY29udHJvbCBkb2VzIG5vdCBzYXRpc2Z5IChpZiBhbnkpLiAqL1xuICB2YWxpZGF0aW9uTWVzc2FnZT86IHN0cmluZztcbiAgLyoqIEFjdGl2YXRlcyBmaWVsZC4gKi9cbiAgYWN0aXZhdGUoKTogdm9pZDtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBvbiB2YWxpZGF0aW9uLiBSZXR1cm5zIGEgbWVzc2FnZSBkZXNjcmliaW5nIHRoZSB2YWxpZGF0aW9uIGNvbnN0cmFpbnRzIHRoYXQgdGhlIGNvbnRyb2wgZG9lcyBub3Qgc2F0aXNmeVxuICAgKiBpZiBhbnkuXG4gICAqL1xuICB2YWxpZGF0ZSgpOiBzdHJpbmd8dW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkV3JhcHBlciB7XG4gIGxhYmVsPzogc3RyaW5nO1xuICBoaW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlRmllbGQ8VD4gZXh0ZW5kcyBGaWVsZCB7XG4gIHZhbHVlOiBUO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhc1ZhbGlkYXRpb24ge1xuICBwZXJmb3JtVmFsaWRhdGlvbigpOiB2b2lkO1xuICB2YWxpZGF0ZU9uRm9jdXNDaGFuZ2UoZm9jdXNlZDogYm9vbGVhbik6IHZvaWQ7XG59XG5cbmNvbnN0IGtleUxhc3RGb2N1c2VkID0gU3ltYm9sKCdsYXN0Rm9jdXNlZCcpO1xuXG50eXBlIFBvbHltZXJGaWVsZCA9IFBvbHltZXJFbGVtZW50JkZpZWxkO1xuXG5leHBvcnQgY29uc3QgVmFsaWRhdGlvbk1peGluID0gZGVkdXBpbmdNaXhpbig8VCBleHRlbmRzIFBvbHltZXJGaWVsZD4oYmFzZTogbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVCkgPT4ge1xuICBjbGFzcyBTb21lRmllbGRXaXRoVmFsaWRhdGlvbiBleHRlbmRzICg8bmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gUG9seW1lckZpZWxkPiBiYXNlKSBpbXBsZW1lbnRzIEhhc1ZhbGlkYXRpb24ge1xuXG4gICAgQG9ic2VydmUoJ3ZhbHVlJylcbiAgICBwZXJmb3JtVmFsaWRhdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25NZXNzYWdlID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEBvYnNlcnZlKCdmb2N1c2VkJylcbiAgICB2YWxpZGF0ZU9uRm9jdXNDaGFuZ2UoZm9jdXNlZDogYm9vbGVhbikge1xuICAgICAgY29uc3QgbGFzdEZvY3VzZWQgPSB0aGlzW2tleUxhc3RGb2N1c2VkXSB8fCBmYWxzZTtcbiAgICAgIGlmIChmb2N1c2VkIHx8ICFsYXN0Rm9jdXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnZhbGlkYXRpb25NZXNzYWdlID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gPG5ldyAoLi4uYXJnczogYW55W10pID0+IFQmSGFzVmFsaWRhdGlvbj4gPHVua25vd24+IFNvbWVGaWVsZFdpdGhWYWxpZGF0aW9uO1xufSk7XG5cbmV4cG9ydCBjb25zdCBGaWVsZE1peGluID0gZGVkdXBpbmdNaXhpbig8VCBleHRlbmRzIFBvbHltZXJFbGVtZW50PihiYXNlOiBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUKSA9PiB7XG4gIGNsYXNzIFNvbWVGaWVsZCBleHRlbmRzICg8bmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gUG9seW1lckVsZW1lbnQ+IGJhc2UpIGltcGxlbWVudHMgRmllbGQge1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgbm90aWZ5OiB0cnVlLCByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUgfSlcbiAgICBhY3RpdmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIG5vdGlmeTogdHJ1ZSwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlIH0pXG4gICAgZGlydHk6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZSB9KVxuICAgIHJlYWRvbmx5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUgfSlcbiAgICByZXF1aXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgbm90aWZ5OiB0cnVlLCByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUgfSlcbiAgICBmb2N1c2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBub3RpZnk6IHRydWUsIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZSB9KVxuICAgIGludmFsaWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIG5vdGlmeTogdHJ1ZSwgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlIH0pXG4gICAgZW1wdHkhOiBib29sZWFuO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgcmVxdWlyZWRNZXNzYWdlPzogc3RyaW5nO1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBub3RpZnk6IHRydWUgfSlcbiAgICB2YWxpZGF0aW9uTWVzc2FnZT86IHN0cmluZztcblxuICAgIGFjdGl2YXRlKCk6IHZvaWQgeyB0aHJvdyBuZXcgRXJyb3IoJ2FjdGl2YXRlIG5vdCBpbXBsZW1lbnRlZCcpOyB9XG5cbiAgICB2YWxpZGF0ZSgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfVxuXG4gICAgQG9ic2VydmUoJ3ZhbGlkYXRpb25NZXNzYWdlJylcbiAgICB2YWxpZGF0aW9uTWVzc2FnZUNoYW5nZWQodmFsaWRhdGlvbk1lc3NhZ2U6IHN0cmluZ3x1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW52YWxpZCA9ICEhKHZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgU29tZUZpZWxkLmNvbnN0cnVjdG9yW2tleUlzRmllbGRdID0gdHJ1ZTtcbiAgcmV0dXJuIDxuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUJkZpZWxkPiA8dW5rbm93bj4gU29tZUZpZWxkO1xufSk7XG5cbmV4cG9ydCBjb25zdCBEZWNvcmF0ZWRXcmFwcGVyTWl4aW4gPSBkZWR1cGluZ01peGluKDxUIGV4dGVuZHMgUG9seW1lckVsZW1lbnQ+KGJhc2U6IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQpID0+IHtcbiAgY2xhc3MgU29tZURlY29yYXRlZEZpZWxkIGV4dGVuZHMgKDxuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBQb2x5bWVyRWxlbWVudD4gYmFzZSkgaW1wbGVtZW50cyBGaWVsZFdyYXBwZXIge1xuXG4gICAgQHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgbGFiZWw/OiBzdHJpbmcgPSAnJztcblxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZyB9KVxuICAgIGhpbnQ/OiBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIDxuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUJkZpZWxkV3JhcHBlcj4gPHVua25vd24+IFNvbWVEZWNvcmF0ZWRGaWVsZDtcbn0pO1xuXG5leHBvcnQgY29uc3QgRGVjb3JhdGVkRmllbGRNaXhpbiA9XG4gIDxUIGV4dGVuZHMgUG9seW1lckVsZW1lbnQ+KGJhc2U6IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQpID0+IERlY29yYXRlZFdyYXBwZXJNaXhpbihGaWVsZE1peGluKGJhc2UpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=